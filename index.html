<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
      <link rel="stylesheet" href="style.css">
      <title>Dynamic Quotes</title>
</head>

<body>
      <div class="main-div">
            <div class="center-div">
                  <div class="twitter-icon"><i class="fa-brands fa-twitter fa-fade fa-xl" style="color: #1964e6;"></i></div>
                  <div id="quotes"></div>
                  <div id="author"></div>
                  <button id="newQ">New Quotes</button>
                  <button id="tweetMe" ><i class="fa-brands fa-twitter fa-fade fa-xl" style="color: #212E3E;"></i>
                  Tweet</button>
            </div>
      </div>

      <script>
            const quotes = document.getElementById("quotes");
            const author = document.getElementById("author");
            const newQ = document.getElementById("newQ");
            const tweetMe = document.getElementById("tweetMe");
            let realData = "";
            let qData = ""

            const tweetNow = ()=>{
                  let tweetPost = `https://twitter.com/intent/tweet?text=${qData.text}`;
                  window.open(tweetPost);
            }

            const getNewQuote = () => {
                  let randInt = Math.floor(Math.random() * realData.length);
                  qData = realData[randInt];
                  quotes.innerText = `"${realData[randInt].text}"`;
                  qData.author == null?(author.innerText="Vivek Bhos"):(author.innerText=`${qData.author}`); 
            }
            
            const getQuote = async () => {

                  const api = "http://type.fit/api/quotes";

                  try {
                        let data = await fetch(api);
                        realData = await data.json();
                        getNewQuote();
                        // console.log(realData.length);
                        // console.log(realData[0].author);
                        // console.log(realData[0].text);
                  } catch (error) { }
            };

            tweetMe.addEventListener("click",tweetNow);
            newQ.addEventListener("click", getNewQuote);
            getQuote();

      </script>
</body>

</html>